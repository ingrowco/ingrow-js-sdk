var Ingrow=function(){"use strict";function i(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r(){var e,n,t="ingrow_events_anonymous_id",o=(n=t,window.localStorage?window.localStorage.getItem(n):(null===(n=document.cookie.match("(^|;)\\s*"+n+"\\s*=\\s*([^;]+)"))||void 0===n?void 0:n.pop())||"");return o||(o=function(e){for(var n="",t=0;t<e;t++)n+=Math.random().toString(36).substr(2,e-n.length);return n}(32),e=t,n=o,window.localStorage?window.localStorage.setItem(e,n):((t=new Date).setTime(t.getTime()+31536e7),t="expires="+t.toUTCString(),document.cookie="".concat(e,"=").concat(n,"; ").concat(t))),o}return function(){function o(e,n,t){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),this.apiKey=e,this.projectID=n,this.apiEndpoint="https://event.ingrow.co",this.anonymousId=r(),this.ip="autofill",this.setUserID(t)}var e,n,t;return e=o,(n=[{key:"setUserID",value:function(e){this.userId=e||""}},{key:"sendEvent",value:function(e,n,t){var o=t||{},t=o.sendDeviceInfo,t=void 0!==t&&t,i=o.done,r=[],o=function(e,n){r.push({name:e,input:n})};o("session",{anonymous_id:this.anonymousId,user_id:this.userId}),o("ip",{ip:this.ip}),t&&o("device",(t=navigator.userAgent,o=window.screen,{userAgent:t,screen:{width:o.width,height:o.height}}));var n={ingrow:{stream:e,project:this.projectID},enrichment:r,event:n},s=new XMLHttpRequest;s.open("POST","".concat(this.apiEndpoint,"/v1")),s.setRequestHeader("api-key",this.apiKey),s.send(JSON.stringify(n)),s.onload=function(){i&&i(s.response)},s.onerror=function(){i&&i(null,s.response)}}}])&&i(e.prototype,n),t&&i(e,t),o}()}();
