var Ingrow=function(){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(){var e,t,n="ingrow_events_anonymous_id",o=(t=n,window.localStorage?window.localStorage.getItem(t):(null===(t=document.cookie.match("(^|;)\\s*"+t+"\\s*=\\s*([^;]+)"))||void 0===t?void 0:t.pop())||"");return o||(o=function(e){for(var t="",n=0;n<e;n++)t+=Math.random().toString(36).substr(2,e-t.length);return t}(32),e=n,t=o,window.localStorage?window.localStorage.setItem(e,t):((n=new Date).setTime(n.getTime()+31536e7),n="expires="+n.toUTCString(),document.cookie="".concat(e,"=").concat(t,"; ").concat(n))),o}return function(){function o(e,t,n){if(!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),!e)throw"please set the apiKey";if(!t)throw"please set the projectID";this.apiKey=e,this.projectID=t,this.apiEndpoint="https://event.ingrow.co",this.anonymousId=s(),this.ip="autofill",this.streamDefaultName="events",this.setUserID(n)}var e,t,n;return e=o,(t=[{key:"setUserID",value:function(e){this.userId=e||""}},{key:"setStreamDefault",value:function(e){this.streamDefaultName=e}},{key:"sendEvent",value:function(e,t,n){var o=t||this.streamDefaultName,t=n||{},n=t.sendDeviceInfo,n=void 0!==n&&n,i=t.done,s=[],t=function(e,t){s.push({name:e,input:t})};t("session",{anonymous_id:this.anonymousId,user_id:this.userId}),t("ip",{ip:this.ip}),n&&t("device",(n=navigator.userAgent,t=window.screen,{userAgent:n,screen:{width:t.width,height:t.height}}));var e={ingrow:{stream:o,project:this.projectID},enrichment:s,event:e},r=new XMLHttpRequest;r.open("POST","".concat(this.apiEndpoint,"/v1")),r.setRequestHeader("api-key",this.apiKey),r.send(JSON.stringify(e)),r.onload=function(){i&&i(r.response)},r.onerror=function(){i&&i(null,r.response)}}}])&&i(e.prototype,t),n&&i(e,n),o}()}();
